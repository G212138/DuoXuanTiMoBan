{"version":3,"sources":["assets\\game\\scripts\\UI\\Item\\OptionNode.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { ListenerManager } from \"../../../../frame/scripts/Manager/ListenerManager\";\r\nimport { SoundManager } from \"../../../../frame/scripts/Manager/SoundManager\";\r\nimport { SyncDataManager } from \"../../../../frame/scripts/Manager/SyncDataManager\";\r\nimport { Tools } from \"../../../../frame/scripts/Utils/Tools\";\r\nimport { EventType } from \"../../Data/EventType\";\r\nimport { EditorManager, GameData } from \"../../Manager/EditorManager\";\r\nimport { SoundConfig } from \"./SoundConfig\";\r\n\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class OptionNode extends cc.Component {\r\n    @property(cc.Node)\r\n    private img_zhadan: cc.Node = null;\r\n    @property(sp.Skeleton)\r\n    private ani_pipi: sp.Skeleton = null;\r\n    @property(cc.Node)\r\n    private img_wutaidong: cc.Node = null;\r\n    @property(cc.Node)\r\n    private zhandan_node: cc.Node = null;\r\n    @property(sp.Skeleton)\r\n    private yanwu: sp.Skeleton = null;\r\n    @property(sp.Skeleton)\r\n    private boom: sp.Skeleton = null;\r\n    @property(cc.Node)\r\n    public option_node: cc.Node = null;\r\n    @property(cc.Label)\r\n    private option_lbl: cc.Label = null;\r\n    @property(cc.Sprite)\r\n    private option_img: cc.Sprite = null;\r\n    @property(cc.Node)\r\n    public option_check: cc.Node = null;\r\n    \r\n    private optionIndex: number = 0;\r\n    private gameData: GameData = null;\r\n    private isTrue: boolean = false;\r\n\r\n    public showInit(index: number) {\r\n        this.gameData = EditorManager.editorData.GameData[SyncDataManager.getSyncData().customSyncData.curLevel];\r\n        this.optionIndex = index;\r\n        this.isTrue = this.gameData.answerId.indexOf(index + 1) != -1;\r\n\r\n        this.node.scaleX = 0;\r\n        for (let i = 0; i < this.node.childrenCount; i++) {\r\n            this.node.children[i].active = false;\r\n        }\r\n        this.img_wutaidong.active = true;\r\n        cc.tween(this.node).to(0.2, { scaleX: 1 }).call(() => {\r\n            this.img_wutaidong.active = false;\r\n            this.ani_pipi.node.active = true;\r\n            Tools.playSpine(this.ani_pipi, 'pipi_dongli chulai happy', false, () => {\r\n                Tools.playSpine(this.ani_pipi, 'pipi_catch', true, () => {\r\n\r\n                });\r\n                this.option_node.active = true;\r\n                this.option_node.scaleX = 0;\r\n                cc.tween(this.option_node).to(0.3, { scaleX: 1 }).call(() => {\r\n\r\n                }).start();\r\n            });\r\n        }).start();\r\n        this.initOption();\r\n    }\r\n\r\n    private initOption() {\r\n        let optionData = this.gameData.answer[this.optionIndex];\r\n        if (optionData.opinionPic == \"\") {\r\n            this.option_img.node.active = false;\r\n            this.option_lbl.node.active = true;\r\n            this.option_lbl.string = optionData.opinionText;\r\n        } else {\r\n            this.option_img.node.active = true;\r\n            this.option_lbl.node.active = false;\r\n            cc.resources.load(\"images/\" + optionData.opinionPic, cc.SpriteFrame, function (err, img) {\r\n                this.option_img.spriteFrame = img;\r\n            }.bind(this));\r\n        }\r\n    }\r\n\r\n    onClickOption() {\r\n        SoundManager.playEffect(SoundConfig.soudlist[\"点击音效\"], false, false);\r\n        ListenerManager.dispatch(EventType.CLICK_OPTION, this.optionIndex);\r\n    }\r\n\r\n    public showTrue() {\r\n        if (this.isTrue) {\r\n            Tools.playSpine(this.ani_pipi, 'pipi_catch_meidong', true);\r\n        } else {\r\n            this.ani_pipi.node.active = false;\r\n            this.img_wutaidong.active = true;\r\n        }\r\n        cc.tween(this.option_node).to(0.4, { scaleX: 0 }).call(() => {\r\n            this.zhandan_node.active = true;\r\n            if (this.isTrue) {\r\n                this.zhandan_node.getChildByName(\"img_zuanshi\").x = -100;\r\n                cc.tween(this.zhandan_node.getChildByName(\"img_zuanshi\")).to(1, { y: -460, angle: 360 }).call(() => { }).start();\r\n                // Tools.playSpine(this.ani_pipi, 'pipi_happy_meidong', true);\r\n            } else {\r\n                this.zhandan_node.getChildByName(\"img_zhadan\").x = 0;\r\n                cc.tween(this.zhandan_node.getChildByName(\"img_zhadan\")).to(1, { y: -650, angle: 360 }).delay(0.3).call(() => {\r\n                    SoundManager.playEffect(SoundConfig.soudlist[\"爆炸音效\"], false, false, false);\r\n                    this.yanwu.node.active = true;\r\n                    Tools.playSpine(this.yanwu, 'dongli yanwu', false, () => {\r\n                        this.yanwu.node.active = false;\r\n                    });\r\n                }).start();\r\n                // this.ani_pipi.node.active = false;\r\n                // this.img_wutaidong.active = true;\r\n            }\r\n        }).start();\r\n    }\r\n\r\n    public showFalse(isSleted: boolean) {\r\n        if (isSleted) {\r\n            Tools.playSpine(this.ani_pipi, 'pipi_catch_meidong', true);\r\n        } else {\r\n            this.ani_pipi.node.active = false;\r\n            this.img_wutaidong.active = true;\r\n        }\r\n        cc.tween(this.option_node).to(0.4, { scaleX: 0 }).call(() => {\r\n            this.zhandan_node.active = true;\r\n            if (this.isTrue) {\r\n                this.zhandan_node.getChildByName(\"img_zuanshi\").x = isSleted ? -100 : 0;\r\n                let endY = isSleted ? -460 : -650;\r\n                cc.tween(this.zhandan_node.getChildByName(\"img_zuanshi\")).to(1, { y: endY, angle: 360 }).call(() => {\r\n                    if (!isSleted) {\r\n                        cc.tween(this.zhandan_node.getChildByName(\"img_dongzhong_zhadan\")).delay(1).bezierTo(0.5, cc.v2(0, -650), cc.v2(-50, 0), cc.v2(-100, -460)).call(() => {\r\n                            this.node.getChildByName(\"zhadan_boom\").active = true;\r\n                            this.zhandan_node.getChildByName(\"img_dongzhong_zhadan\").active = false;\r\n                            Tools.playSpine(this.node.getChildByName(\"zhadan_boom\").getComponent(sp.Skeleton), 'effect_boom', false);\r\n                            SoundManager.playEffect(SoundConfig.soudlist[\"爆炸音效\"], false, false, false);\r\n                        }).start();\r\n                    }                    \r\n                 }).start();\r\n                Tools.playSpine(this.ani_pipi, 'pipi_happy_meidong', true);\r\n            } else {\r\n                Tools.playSpine(this.ani_pipi, 'pipi_embarrassed_meidong', true);\r\n                this.zhandan_node.getChildByName(\"img_zhadan\").x = isSleted ? -100 : 0;\r\n                let endY = isSleted ? -460 : -650;\r\n                cc.tween(this.zhandan_node.getChildByName(\"img_zhadan\")).to(1, { y: endY, angle: 360 }).delay(0.3).call(() => {\r\n                    if (!isSleted) {\r\n                        SoundManager.playEffect(SoundConfig.soudlist[\"爆炸音效\"], false, false, false);\r\n                        this.yanwu.node.active = true;\r\n                        Tools.playSpine(this.yanwu, 'dongli yanwu', false, () => {\r\n                            this.yanwu.node.active = false;\r\n                        });\r\n                    }                  \r\n                }).start();\r\n                this.scheduleOnce(() => {\r\n                    this.zhandan_node.getChildByName(\"img_zhadan\").active = false;\r\n                    SoundManager.playEffect(SoundConfig.soudlist[\"爆炸音效\"], false, false, false);\r\n                    this.node.getChildByName(\"zhadan_boom\").active = true;\r\n                    Tools.playSpine(this.node.getChildByName(\"zhadan_boom\").getComponent(sp.Skeleton), 'effect_boom', false);\r\n                }, 2.5);\r\n            }\r\n        }).start();\r\n    }\r\n}\r\n"]}