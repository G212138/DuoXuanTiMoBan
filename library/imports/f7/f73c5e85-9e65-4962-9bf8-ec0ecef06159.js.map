{"version":3,"sources":["assets\\game\\scripts\\UI\\Item\\GameUI.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { NetWork } from \"../../../../frame/scripts/Http/NetWork\";\r\nimport { ListenerManager } from \"../../../../frame/scripts/Manager/ListenerManager\";\r\nimport { SoundManager } from \"../../../../frame/scripts/Manager/SoundManager\";\r\nimport { SyncDataManager } from \"../../../../frame/scripts/Manager/SyncDataManager\";\r\nimport { T2M } from \"../../../../frame/scripts/SDK/T2M\";\r\nimport { Tools } from \"../../../../frame/scripts/Utils/Tools\";\r\nimport { UIHelp } from \"../../../../frame/scripts/Utils/UIHelp\";\r\nimport { EventType } from \"../../Data/EventType\";\r\nimport { EditorManager, GameData } from \"../../Manager/EditorManager\";\r\nimport OptionKuang from \"./OptionKuang\";\r\nimport { SoundConfig } from \"./SoundConfig\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class GameUI extends cc.Component {\r\n    @property(sp.Skeleton)\r\n    private bg_ani: sp.Skeleton = null;\r\n    @property(cc.Node)\r\n    private btn_start: cc.Node = null;\r\n    @property(cc.Node)\r\n    private question_node: cc.Node = null;\r\n    @property(cc.Node)\r\n    private option_node: cc.Node = null;\r\n    @property(cc.Prefab)\r\n    private option_prefab: cc.Prefab = null;\r\n    @property(cc.Label)\r\n    private title_text: cc.Label = null;\r\n    @property(cc.Sprite)\r\n    private question_img: cc.Sprite = null;\r\n    @property(cc.Label)\r\n    private question_text: cc.Label = null;\r\n    @property(cc.Label)\r\n    private lb_curLevel: cc.Label = null;\r\n    @property(cc.Label)\r\n    private lb_levelCount: cc.Label = null;\r\n\r\n    private gameData: GameData = null;\r\n    private question_node_start_posY: number = 900;\r\n    private question_node_posY: number = 90;\r\n    private option_node_start_posY: number = -1000;\r\n    private option_node_posY: number = -400;\r\n\r\n    onLoad() {\r\n        ListenerManager.on(EventType.ENTER_GAME, this.handleEnterGame, this);\r\n        ListenerManager.on(EventType.GAME_RECONNECT, this.resetUI, this);\r\n        ListenerManager.on(EventType.GAME_REPLAY, this.handleEnterGame, this);\r\n        ListenerManager.on(EventType.CLICK_OPTION, this.handleClickOption, this);\r\n        T2M.addSyncEventListener(EventType.CHANGE_ANI, this.T2M_changeAni.bind(this));\r\n        T2M.addSyncEventListener(EventType.NEXT_LEVEL, this.nextLevel.bind(this));\r\n        T2M.addSyncEventListener(EventType.SHOW_QUESTION, this.handleShowQuestion.bind(this));\r\n        T2M.addSyncEventListener(EventType.SYNC_GAME_OVER, this.syncGameOver.bind(this));\r\n    }\r\n\r\n    onDestroy() {\r\n        ListenerManager.off(EventType.ENTER_GAME, this.handleEnterGame, this);\r\n        ListenerManager.off(EventType.GAME_RECONNECT, this.resetUI, this);\r\n        ListenerManager.off(EventType.GAME_REPLAY, this.handleEnterGame, this);\r\n        ListenerManager.off(EventType.CLICK_OPTION, this.handleClickOption, this);\r\n        T2M.removeSyncEventListener(EventType.CHANGE_ANI);\r\n        T2M.removeSyncEventListener(EventType.NEXT_LEVEL);\r\n        T2M.removeSyncEventListener(EventType.SHOW_QUESTION);\r\n        T2M.removeSyncEventListener(EventType.SYNC_GAME_OVER);\r\n    }\r\n\r\n    private handleEnterGame() {\r\n        Tools.playSpine(this.bg_ani, \"BG\", true);\r\n        this.gameData = EditorManager.editorData.GameData[SyncDataManager.getSyncData().customSyncData.curLevel];\r\n        this.initUI();\r\n    }\r\n\r\n    private initUI() {\r\n        console.log(\"initUI\", this.gameData);\r\n        this.initTitle();\r\n        this.initLevelProgress();\r\n        this.initQuestion();\r\n        this.initOption();\r\n\r\n        this.btn_start.active = true;\r\n        this.btn_start.opacity = 0;\r\n        this.question_node.y = this.question_node_start_posY;\r\n        this.option_node.y = this.option_node_start_posY;\r\n        Tools.playSpine(this.bg_ani, \"BG1-1\", true);\r\n        SyncDataManager.getSyncData().customSyncData.curAni = \"BG1-1\";\r\n        SyncDataManager.getSyncData().customSyncData.aniLoop = true;\r\n        //播放皮皮语音：“别跑！”\r\n        SoundManager.playEffect(SoundConfig.soudlist[\"别跑\"], false, false, false, () => {\r\n            cc.tween(this.btn_start).to(0.5, { opacity: 255 }).start();\r\n        });\r\n    }\r\n\r\n    private resetUI() {\r\n        this.gameData = EditorManager.editorData.GameData[SyncDataManager.getSyncData().customSyncData.curLevel];\r\n        this.initTitle();\r\n        this.initLevelProgress();\r\n        this.initQuestion();\r\n        this.initOption();\r\n        this.btn_start.active = !SyncDataManager.getSyncData().customSyncData.isStart;\r\n        Tools.playSpine(this.bg_ani, SyncDataManager.getSyncData().customSyncData.curAni, SyncDataManager.getSyncData().customSyncData.aniLoop);\r\n        if (SyncDataManager.getSyncData().customSyncData.isStart) {\r\n            this.question_node.y = this.question_node_posY;\r\n            this.option_node.y = this.option_node_posY;\r\n            this.question_node.getChildByName(\"qie\").x = 430;\r\n        }\r\n        if (SyncDataManager.syncData.frameSyncData.isGameOver) {\r\n            this.question_node.y = this.question_node_start_posY;\r\n            this.option_node.y = this.option_node_start_posY;\r\n            this.question_node.getChildByName(\"qie\").x = 300;\r\n        }\r\n    }\r\n\r\n    private nextLevel() {\r\n        this.gameData = EditorManager.editorData.GameData[SyncDataManager.getSyncData().customSyncData.curLevel];\r\n        this.initTitle();\r\n        this.initLevelProgress();\r\n        this.initQuestion();\r\n        this.initOption();\r\n        this.handleShowQuestion();\r\n    }\r\n\r\n    private initTitle() {\r\n        this.title_text.string = this.gameData.questionText;\r\n        if (this.gameData.questionText.length > 36) {\r\n            this.title_text.node.width = this.title_text.fontSize * 36;\r\n            this.title_text.overflow = cc.Label.Overflow.RESIZE_HEIGHT;\r\n        } else {\r\n            this.title_text.overflow = cc.Label.Overflow.NONE;\r\n        }\r\n        this.title_text.node.active = false;\r\n        this.title_text.string = this.gameData.questionText;\r\n        this.title_text.node.active = true;\r\n        this.title_text.node.parent.getComponent(cc.Layout).updateLayout();\r\n    }\r\n\r\n    private initLevelProgress() {\r\n        this.lb_curLevel.node.parent.parent.active = EditorManager.editorData.GameData.length > 1;\r\n        this.lb_curLevel.string = (SyncDataManager.getSyncData().customSyncData.curLevel + 1).toString();\r\n        this.lb_levelCount.string = EditorManager.editorData.GameData.length.toString();\r\n    }\r\n\r\n    private initQuestion() {\r\n        this.question_text.string = this.gameData.questionText;\r\n    }\r\n\r\n    private initOption() {\r\n        this.option_node.destroyAllChildren();\r\n        this.option_node.removeAllChildren();\r\n        for (let i = 0; i < this.gameData.opinion; i++) {\r\n            let option = cc.instantiate(this.option_prefab);\r\n            option.name = \"option\" + i;\r\n            option.parent = this.option_node;\r\n            let com = option.getComponent(OptionKuang);\r\n            let isTrueAnswer = this.gameData.answer == i + 1;\r\n            com.init(i, this.gameData[\"opinionText\" + (i + 1)], this.gameData[\"opinionPic\" + (i + 1)], isTrueAnswer);\r\n        }\r\n    }\r\n\r\n    private handleClickOption(data) {\r\n        ListenerManager.dispatch(EventType.SUBMIT, data);\r\n        cc.tween(this.question_node.getChildByName(\"qie\")).to(0.5, { x: 300 }).call(() => {\r\n            if (data) {\r\n                this.handleTrueAni();\r\n            } else {\r\n                this.handleWrongAni();\r\n            }\r\n        }).start();\r\n    }\r\n\r\n    private handleTrueAni() {\r\n        SyncDataManager.getSyncData().customSyncData.tureLevel.push(SyncDataManager.getSyncData().customSyncData.curLevel + 1);\r\n        cc.tween(this.question_node).delay(0.5).to(0.5, { y: this.question_node_start_posY }).start();\r\n        cc.tween(this.option_node).delay(0.5).to(0.5, { y: this.option_node_start_posY }).call(() => {\r\n            this.handleNextLevel();\r\n        }).start();\r\n    }\r\n\r\n    private handleWrongAni() {\r\n        cc.tween(this.question_node).delay(0.5).to(0.5, { y: this.question_node_start_posY }).start();\r\n        cc.tween(this.option_node).delay(0.5).to(0.5, { y: this.option_node_start_posY }).call(() => {\r\n            this.handleNextLevel(false);\r\n        }).start();\r\n    }\r\n\r\n    private handleNextLevel(isTrue: boolean = true) {\r\n        let bg_ani_name = isTrue ? \"BG3\" : \"BG4\";\r\n        if (SyncDataManager.getSyncData().customSyncData.curLevel + 1 >= EditorManager.editorData.GameData.length) {\r\n            this.handleGameOver();\r\n        } else {\r\n            SyncDataManager.getSyncData().customSyncData.curLevel++;\r\n            SyncDataManager.getSyncData().customSyncData.curAni = bg_ani_name;\r\n            SyncDataManager.getSyncData().customSyncData.aniLoop = false;\r\n            Tools.playSpine(this.bg_ani, bg_ani_name, false, () => {\r\n                if (NetWork.isMaster || !NetWork.isSync) {\r\n                    T2M.dispatch(EventType.CHANGE_ANI, { name: \"BG2\", loop: true })\r\n                    T2M.dispatch(EventType.NEXT_LEVEL, null);\r\n                }\r\n                SyncDataManager.getSyncData().customSyncData.curAni = \"BG2\";\r\n                SyncDataManager.getSyncData().customSyncData.aniLoop = true;\r\n                // Tools.playSpine(this.bg_ani, \"BG2\", true);\r\n                // this.nextLevel();\r\n            });\r\n        }\r\n    }\r\n\r\n    private T2M_changeAni(data) {\r\n        Tools.playSpine(this.bg_ani, data.name, data.loop);\r\n    }\r\n\r\n    private handleGameOver() {\r\n        if (SyncDataManager.getSyncData().customSyncData.tureLevel.length == EditorManager.editorData.GameData.length) {\r\n            SyncDataManager.getSyncData().customSyncData.curAni = \"BG3_win\";\r\n            SyncDataManager.getSyncData().customSyncData.aniLoop = false;\r\n            Tools.playSpine(this.bg_ani, \"BG3_win\", false, () => {\r\n                if (NetWork.isMaster || !NetWork.isSync) {\r\n                    T2M.dispatch(EventType.CHANGE_ANI, { name: \"BG3_win2\", loop: true });\r\n                    // T2M.dispatch(EventType.SYNC_GAME_OVER, null);\r\n                }\r\n                SoundManager.playEffect(SoundConfig.soudlist[\"快节奏成功音效\"], false, false, false, () => {\r\n                    if (NetWork.isMaster || !NetWork.isSync) {\r\n                        // T2M.dispatch(EventType.CHANGE_ANI, { name: \"BG3_win2\", loop: true });\r\n                        T2M.dispatch(EventType.SYNC_GAME_OVER, null);\r\n                    }\r\n                });\r\n                SyncDataManager.getSyncData().customSyncData.curAni = \"BG3_win2\";\r\n                SyncDataManager.getSyncData().customSyncData.aniLoop = true;\r\n                // Tools.playSpine(this.bg_ani, \"BG3_win2\", true);\r\n                // ListenerManager.dispatch(EventType.GAME_OVER);\r\n            });\r\n        } else {\r\n\r\n            SyncDataManager.getSyncData().customSyncData.curAni = \"BG3&4_lost\";\r\n            SyncDataManager.getSyncData().customSyncData.aniLoop = false;\r\n            Tools.playSpine(this.bg_ani, \"BG3&4_lost\", false, () => {\r\n                if (NetWork.isMaster || !NetWork.isSync) {\r\n                    T2M.dispatch(EventType.CHANGE_ANI, { name: \"BG3&4_lost2\", loop: true });\r\n                    // T2M.dispatch(EventType.SYNC_GAME_OVER, null);\r\n                }\r\n                SoundManager.playEffect(SoundConfig.soudlist[\"长一些的失败音效\"], false, false, false, () => {\r\n                    if (NetWork.isMaster || !NetWork.isSync) {\r\n                        // T2M.dispatch(EventType.CHANGE_ANI, { name: \"BG3_win2\", loop: true });\r\n                        T2M.dispatch(EventType.SYNC_GAME_OVER, null);\r\n                    }\r\n                });\r\n                SyncDataManager.getSyncData().customSyncData.curAni = \"BG3&4_lost2\";\r\n                SyncDataManager.getSyncData().customSyncData.aniLoop = true;\r\n                // Tools.playSpine(this.bg_ani, \"BG3&4_lost2\", true);\r\n                // ListenerManager.dispatch(EventType.GAME_OVER);\r\n            });\r\n        }\r\n    }\r\n\r\n    private syncGameOver() {\r\n        ListenerManager.dispatch(EventType.GAME_OVER);\r\n    }\r\n\r\n    private onClickStart() {\r\n        SyncDataManager.getSyncData().customSyncData.isStart = true;\r\n        SoundManager.playEffect(SoundConfig.soudlist[\"点击音效\"], false, false, false);\r\n        this.btn_start.active = false;\r\n        SyncDataManager.getSyncData().customSyncData.curAni = \"BG1\";\r\n        SyncDataManager.getSyncData().customSyncData.aniLoop = false;\r\n        Tools.playSpine(this.bg_ani, \"BG1\", false, () => {\r\n            if (NetWork.isMaster || !NetWork.isSync) {\r\n                T2M.dispatch(EventType.CHANGE_ANI, { name: \"BG2\", loop: true });\r\n                T2M.dispatch(EventType.SHOW_QUESTION, null);\r\n            }\r\n            SyncDataManager.getSyncData().customSyncData.curAni = \"BG2\";\r\n            SyncDataManager.getSyncData().customSyncData.aniLoop = true;\r\n            // Tools.playSpine(this.bg_ani, \"BG2\", true);\r\n            // this.handleShowQuestion();\r\n        });\r\n    }\r\n\r\n    private handleShowQuestion() {\r\n        this.question_node.getChildByName(\"qie\").x = 300;\r\n        cc.tween(this.question_node).to(0.5, { y: this.question_node_posY }).call(() => {\r\n            UIHelp.closeMask();\r\n            cc.tween(this.question_node.getChildByName(\"qie\")).to(0.5, { x: 430 }).start();\r\n        }).start();\r\n        cc.tween(this.option_node).to(0.5, { y: this.option_node_posY }).start();\r\n    }\r\n\r\n}\r\n"]}